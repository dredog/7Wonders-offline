     <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>7 Wonders Duel</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2c1810">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="7 Wonders Duel">
    <link rel="apple-touch-icon" href="icon-192.png">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html, body { font-family: 'Segoe UI', sans-serif; height: 100%; overflow: hidden; background: linear-gradient(135deg,#2c1810,#6b4423); touch-action: manipulation; }
        #root { height: 100%; }
        #offline-banner { display: none; position: fixed; top: 0; left: 0; right: 0; background: #4caf50; color: white; text-align: center; padding: 4px; font-size: 12px; z-index: 9999; }
        #offline-banner.show { display: block; }
    </style>
</head>
<body>
    <div id="offline-banner">‚úì Available offline</div>
    <div id="root"></div>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('./sw.js').then(function(reg) {
          if (reg.active) {
            var banner = document.getElementById('offline-banner');
            banner.classList.add('show');
            setTimeout(function() { banner.classList.remove('show'); }, 2000);
          }
        }).catch(function(err) { console.log('SW failed:', err); });
      });
    }

    var AGE1_CARDS = [
      { id: 'a1_1', name: 'Lumber Yard', type: 'brown', cost: {}, prod: { wood: 1 }},
      { id: 'a1_2', name: 'Logging Camp', type: 'brown', cost: { coin: 1 }, prod: { wood: 1 }},
      { id: 'a1_3', name: 'Clay Pool', type: 'brown', cost: {}, prod: { clay: 1 }},
      { id: 'a1_4', name: 'Clay Pit', type: 'brown', cost: { coin: 1 }, prod: { clay: 1 }},
      { id: 'a1_5', name: 'Quarry', type: 'brown', cost: {}, prod: { stone: 1 }},
      { id: 'a1_6', name: 'Stone Pit', type: 'brown', cost: { coin: 1 }, prod: { stone: 1 }},
      { id: 'a1_7', name: 'Glassworks', type: 'gray', cost: { coin: 1 }, prod: { glass: 1 }},
      { id: 'a1_8', name: 'Press', type: 'gray', cost: { coin: 1 }, prod: { papyrus: 1 }},
      { id: 'a1_9', name: 'Guard Tower', type: 'red', cost: {}, mil: 1 },
      { id: 'a1_10', name: 'Stable', type: 'red', cost: { wood: 1 }, mil: 1 },
      { id: 'a1_11', name: 'Garrison', type: 'red', cost: { clay: 1 }, mil: 1 },
      { id: 'a1_12', name: 'Palisade', type: 'red', cost: { coin: 2 }, mil: 1 },
      { id: 'a1_13', name: 'Altar', type: 'blue', cost: {}, pts: 3, chain: 'temple' },
      { id: 'a1_14', name: 'Theater', type: 'blue', cost: {}, pts: 3, chain: 'statue' },
      { id: 'a1_15', name: 'Baths', type: 'blue', cost: { stone: 1 }, pts: 3, chain: 'aqueduct' },
      { id: 'a1_16', name: 'Apothecary', type: 'green', cost: { glass: 1 }, sci: 'wheel' },
      { id: 'a1_17', name: 'Workshop', type: 'green', cost: { papyrus: 1 }, sci: 'compass' },
      { id: 'a1_18', name: 'Scriptorium', type: 'green', cost: { coin: 2 }, sci: 'quill', chain: 'library' },
      { id: 'a1_19', name: 'Pharmacist', type: 'green', cost: { coin: 2 }, sci: 'mortar' },
      { id: 'a1_20', name: 'Stone Reserve', type: 'yellow', cost: { coin: 3 }, fixedTrade: 'stone' },
      { id: 'a1_21', name: 'Clay Reserve', type: 'yellow', cost: { coin: 3 }, fixedTrade: 'clay' },
      { id: 'a1_22', name: 'Wood Reserve', type: 'yellow', cost: { coin: 3 }, fixedTrade: 'wood' },
      { id: 'a1_23', name: 'Tavern', type: 'yellow', cost: {}, coins: 4 }
    ];
    var AGE2_CARDS = [
      { id: 'a2_1', name: 'Sawmill', type: 'brown', cost: { coin: 2 }, prod: { wood: 2 }},
      { id: 'a2_2', name: 'Brickyard', type: 'brown', cost: { coin: 2 }, prod: { clay: 2 }},
      { id: 'a2_3', name: 'Shelf Quarry', type: 'brown', cost: { coin: 2 }, prod: { stone: 2 }},
      { id: 'a2_4', name: 'Glassblower', type: 'gray', cost: {}, prod: { glass: 1 }},
      { id: 'a2_5', name: 'Drying Room', type: 'gray', cost: {}, prod: { papyrus: 1 }},
      { id: 'a2_6', name: 'Walls', type: 'red', cost: { stone: 2 }, mil: 2 },
      { id: 'a2_7', name: 'Horse Breeders', type: 'red', cost: { clay: 1, wood: 1 }, mil: 1, chainFrom: 'stable' },
      { id: 'a2_8', name: 'Barracks', type: 'red', cost: { coin: 3 }, mil: 1, chainFrom: 'garrison' },
      { id: 'a2_9', name: 'Archery Range', type: 'red', cost: { stone: 1, wood: 1, papyrus: 1 }, mil: 2 },
      { id: 'a2_10', name: 'Parade Ground', type: 'red', cost: { clay: 2, glass: 1 }, mil: 2 },
      { id: 'a2_11', name: 'Aqueduct', type: 'blue', cost: { stone: 3 }, pts: 5, chainFrom: 'baths' },
      { id: 'a2_12', name: 'Temple', type: 'blue', cost: { wood: 1, papyrus: 1 }, pts: 4, chainFrom: 'altar', chain: 'pantheon' },
      { id: 'a2_13', name: 'Statue', type: 'blue', cost: { clay: 2 }, pts: 4, chainFrom: 'theater', chain: 'gardens' },
      { id: 'a2_14', name: 'Courthouse', type: 'blue', cost: { wood: 2, glass: 1 }, pts: 5 },
      { id: 'a2_15', name: 'Rostrum', type: 'blue', cost: { stone: 1, wood: 1 }, pts: 4, chain: 'senate' },
      { id: 'a2_16', name: 'Library', type: 'green', cost: { stone: 1, wood: 1, glass: 1 }, sci: 'quill', pts: 2, chainFrom: 'scriptorium' },
      { id: 'a2_17', name: 'Dispensary', type: 'green', cost: { clay: 2, stone: 1 }, sci: 'mortar', pts: 2 },
      { id: 'a2_18', name: 'School', type: 'green', cost: { wood: 1, papyrus: 2 }, sci: 'wheel', pts: 1, chain: 'university' },
      { id: 'a2_19', name: 'Laboratory', type: 'green', cost: { wood: 1, glass: 2 }, sci: 'compass', pts: 1, chain: 'observatory' },
      { id: 'a2_20', name: 'Forum', type: 'yellow', cost: { coin: 3, clay: 1 }, prod: { glass: 1, papyrus: 1 }},
      { id: 'a2_21', name: 'Caravansery', type: 'yellow', cost: { coin: 2, glass: 1, papyrus: 1 }, prod: { wood: 1, clay: 1, stone: 1 }},
      { id: 'a2_22', name: 'Customs House', type: 'yellow', cost: { coin: 4 }, fixedTrade: 'manufactured' },
      { id: 'a2_23', name: 'Brewery', type: 'yellow', cost: {}, coins: 6 }
    ];
    var AGE3_CARDS = [
      { id: 'a3_1', name: 'Arsenal', type: 'red', cost: { clay: 3, wood: 2 }, mil: 3 },
      { id: 'a3_2', name: 'Pretorium', type: 'red', cost: { coin: 8 }, mil: 3 },
      { id: 'a3_3', name: 'Fortifications', type: 'red', cost: { stone: 2, clay: 1, papyrus: 1 }, mil: 2 },
      { id: 'a3_4', name: 'Siege Workshop', type: 'red', cost: { wood: 3, glass: 1 }, mil: 2 },
      { id: 'a3_5', name: 'Circus', type: 'red', cost: { clay: 2, stone: 2 }, mil: 2 },
      { id: 'a3_6', name: 'Palace', type: 'blue', cost: { clay: 1, stone: 1, wood: 1, glass: 2 }, pts: 7 },
      { id: 'a3_7', name: 'Town Hall', type: 'blue', cost: { stone: 3, wood: 2 }, pts: 7 },
      { id: 'a3_8', name: 'Obelisk', type: 'blue', cost: { stone: 2, glass: 1 }, pts: 5 },
      { id: 'a3_9', name: 'Gardens', type: 'blue', cost: { clay: 2, wood: 2 }, pts: 6, chainFrom: 'statue' },
      { id: 'a3_10', name: 'Pantheon', type: 'blue', cost: { clay: 1, wood: 1, papyrus: 2 }, pts: 6, chainFrom: 'temple' },
      { id: 'a3_11', name: 'Senate', type: 'blue', cost: { clay: 2, stone: 1, papyrus: 2 }, pts: 5, chainFrom: 'rostrum' },
      { id: 'a3_12', name: 'Academy', type: 'green', cost: { stone: 1, wood: 1, glass: 2 }, sci: 'sundial', pts: 3 },
      { id: 'a3_13', name: 'Study', type: 'green', cost: { wood: 2, glass: 1, papyrus: 1 }, sci: 'sundial', pts: 3 },
      { id: 'a3_14', name: 'University', type: 'green', cost: { clay: 1, glass: 1, papyrus: 1 }, sci: 'astrolabe', pts: 2, chainFrom: 'school' },
      { id: 'a3_15', name: 'Observatory', type: 'green', cost: { stone: 1, papyrus: 2 }, sci: 'astrolabe', pts: 2, chainFrom: 'laboratory' },
      { id: 'a3_16', name: 'Chamber', type: 'yellow', cost: { papyrus: 2 }, ptsPer: { gray: 3 }, coinsPer: { gray: 3 }},
      { id: 'a3_17', name: 'Port', type: 'yellow', cost: { wood: 1, glass: 1, papyrus: 1 }, ptsPer: { brown: 2 }, coinsPer: { brown: 2 }}
    ];
    var GUILD_CARDS = [
      { id: 'g1', name: 'Merchants', type: 'purple', cost: { clay: 1, wood: 1, glass: 1, papyrus: 1 }, ptsPer: { yellow: 1 }},
      { id: 'g2', name: 'Shipowners', type: 'purple', cost: { clay: 1, stone: 1, glass: 1, papyrus: 1 }, ptsPer: { brown: 1, gray: 1 }},
      { id: 'g3', name: 'Builders', type: 'purple', cost: { stone: 2, clay: 1, wood: 1, glass: 1 }, ptsPer: { wonder: 2 }},
      { id: 'g4', name: 'Magistrates', type: 'purple', cost: { wood: 2, clay: 1, papyrus: 1 }, ptsPer: { blue: 1 }},
      { id: 'g5', name: 'Scientists', type: 'purple', cost: { clay: 2, wood: 2 }, ptsPer: { green: 1 }},
      { id: 'g6', name: 'Moneylenders', type: 'purple', cost: { stone: 2, wood: 2 }, ptsPer: { coin3: 1 }},
      { id: 'g7', name: 'Tacticians', type: 'purple', cost: { stone: 2, clay: 1, papyrus: 1 }, ptsPer: { red: 1 }}
    ];
    var WONDERS = [
      { id: 'w1', name: 'Pyramids', cost: { stone: 3 }, pts: 9 },
      { id: 'w2', name: 'Lighthouse', cost: { wood: 1, stone: 1, papyrus: 1 }, pts: 4 },
      { id: 'w3', name: 'Artemis', cost: { wood: 1, stone: 1, glass: 1, papyrus: 1 }, pts: 0, coins: 12, extraTurn: true },
      { id: 'w4', name: 'Zeus', cost: { clay: 1, wood: 1, stone: 1, papyrus: 2 }, pts: 3, mil: 1 },
      { id: 'w5', name: 'Mausoleum', cost: { clay: 2, glass: 2, papyrus: 1 }, pts: 2 },
      { id: 'w6', name: 'Colossus', cost: { clay: 3, glass: 1 }, pts: 3, mil: 2 },
      { id: 'w7', name: 'Great Library', cost: { wood: 3, glass: 1, papyrus: 1 }, pts: 4 },
      { id: 'w8', name: 'Circus Max', cost: { glass: 1, wood: 1, stone: 2 }, pts: 3, mil: 1 },
      { id: 'w9', name: 'Piraeus', cost: { clay: 1, stone: 1, wood: 2 }, pts: 2, extraTurn: true },
      { id: 'w10', name: 'Appian Way', cost: { papyrus: 1, clay: 2, stone: 2 }, pts: 3, coins: 3, extraTurn: true },
      { id: 'w11', name: 'Sphinx', cost: { glass: 2, clay: 1, stone: 1 }, pts: 6, extraTurn: true },
      { id: 'w12', name: 'Gardens', cost: { papyrus: 1, glass: 1, wood: 2 }, pts: 3, coins: 6, extraTurn: true }
    ];
    var PROGRESS = [
      { id: 'pt1', name: 'Agriculture', coins: 6, pts: 4 },
      { id: 'pt2', name: 'Architecture', wonderDiscount: 2 },
      { id: 'pt3', name: 'Economy', tradeStealing: true },
      { id: 'pt4', name: 'Law', sci: 'any' },
      { id: 'pt5', name: 'Masonry', blueDiscount: 2 },
      { id: 'pt6', name: 'Mathematics', ptsPer: { progress: 3 }},
      { id: 'pt7', name: 'Philosophy', pts: 7 },
      { id: 'pt8', name: 'Strategy', extraMil: 1 },
      { id: 'pt9', name: 'Theology', extraTurnOnWonder: true },
      { id: 'pt10', name: 'Urbanism', coins: 6, freeChain: true }
    ];
    var COLORS = { brown: '#8B4513', gray: '#708090', red: '#C41E3A', green: '#228B22', blue: '#4169E1', yellow: '#DAA520', purple: '#8B008B' };
    var RES = { wood: 'ü™µ', clay: 'üß±', stone: 'ü™®', glass: 'üîÆ', papyrus: 'üìú', coin: 'üí∞' };
    var SCI = { compass: 'üß≠', wheel: '‚öôÔ∏è', quill: '‚úíÔ∏è', mortar: '‚öóÔ∏è', sundial: '‚òÄÔ∏è', astrolabe: 'üî≠' };

    function shuffle(arr) { return arr.slice().sort(function() { return Math.random() - 0.5; }); }
    
    // Age 1: 2 cards at top, expanding to 6 at bottom
    function buildAge1(cards) {
      var s = shuffle(cards).slice(0, 20), pyr = [], idx = 0;
      for (var c = 0; c < 2; c++) pyr.push({ r: 0, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 3; c++) pyr.push({ r: 1, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 4; c++) pyr.push({ r: 2, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 5; c++) pyr.push({ r: 3, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 6; c++) pyr.push({ r: 4, c: c, card: s[idx++], t: false });
      return pyr;
    }
    
    // Age 2: 2 cards at top, expanding to 6 at bottom (SAME structure as Age 1, but accessible from TOP)
    function buildAge2(cards) {
      var s = shuffle(cards).slice(0, 20), pyr = [], idx = 0;
      for (var c = 0; c < 2; c++) pyr.push({ r: 0, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 3; c++) pyr.push({ r: 1, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 4; c++) pyr.push({ r: 2, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 5; c++) pyr.push({ r: 3, c: c, card: s[idx++], t: false });
      for (var c = 0; c < 6; c++) pyr.push({ r: 4, c: c, card: s[idx++], t: false });
      return pyr;
    }
    
    function buildAge3(cards, guilds) {
      var sg = shuffle(guilds).slice(0, 3);
      var all = shuffle(cards.concat(sg)).slice(0, 20), pyr = [], idx = 0;
      pyr.push({ r: 0, c: 0, card: all[idx++], t: false });
      pyr.push({ r: 0, c: 5, card: all[idx++], t: false });
      pyr.push({ r: 1, c: 0, card: all[idx++], t: false });
      pyr.push({ r: 1, c: 1, card: all[idx++], t: false });
      pyr.push({ r: 1, c: 4, card: all[idx++], t: false });
      pyr.push({ r: 1, c: 5, card: all[idx++], t: false });
      for (var c = 0; c < 6; c++) pyr.push({ r: 2, c: c, card: all[idx++], t: false });
      pyr.push({ r: 3, c: 1, card: all[idx++], t: false });
      pyr.push({ r: 3, c: 2, card: all[idx++], t: false });
      pyr.push({ r: 3, c: 3, card: all[idx++], t: false });
      pyr.push({ r: 3, c: 4, card: all[idx++], t: false });
      pyr.push({ r: 4, c: 2, card: all[idx++], t: false });
      pyr.push({ r: 4, c: 3, card: all[idx++], t: false });
      return pyr;
    }
    
    function getProd(cards, wonders) {
      var prod = { wood: 0, clay: 0, stone: 0, glass: 0, papyrus: 0 };
      cards.forEach(function(c) { if (c.prod) Object.keys(c.prod).forEach(function(r) { prod[r] += c.prod[r]; }); });
      wonders.forEach(function(w) { if (w.built && w.prod) Object.keys(w.prod).forEach(function(r) { prod[r] += w.prod[r]; }); });
      return prod;
    }
    function hasChain(cards, cf) { return cf && cards.some(function(c) { return c.chain === cf; }); }
    function calcCost(cost, player, opp) {
      if (!cost || Object.keys(cost).length === 0) return { total: 0, bd: 'Free' };
      var myP = getProd(player.cards, player.wonders);
      var opP = getProd(opp.cards, opp.wonders);
      var total = cost.coin || 0, parts = [];
      if (cost.coin) parts.push(cost.coin + 'üí∞');
      var hWR = player.cards.some(function(c) { return c.fixedTrade === 'wood'; });
      var hCR = player.cards.some(function(c) { return c.fixedTrade === 'clay'; });
      var hSR = player.cards.some(function(c) { return c.fixedTrade === 'stone'; });
      var hM = player.cards.some(function(c) { return c.fixedTrade === 'manufactured'; });
      ['wood', 'clay', 'stone', 'glass', 'papyrus'].forEach(function(res) {
        var need = cost[res] || 0; if (need <= 0) return;
        var have = myP[res] || 0, toBuy = Math.max(0, need - have);
        if (toBuy > 0) {
          var pu = 2, opH = opP[res] || 0;
          if (res === 'wood' && hWR) pu = 1;
          else if (res === 'clay' && hCR) pu = 1;
          else if (res === 'stone' && hSR) pu = 1;
          else if ((res === 'glass' || res === 'papyrus') && hM) pu = 1;
          else pu = 2 + opH;
          var tc = toBuy * pu; total += tc;
          parts.push(toBuy + RES[res] + '=' + tc + 'üí∞');
        }
      });
      return { total: total, bd: parts.length > 0 ? parts.join('+') : 'Free' };
    }
    
    // Card accessibility - Age 1: bottom row free, Age 2: top row free
    function isAcc(pyr, pos, age) {
      if (pos.t) return false;
      var r = pos.r, c = pos.c;
      if (age === 1) {
        // Age 1: accessible from bottom (row 4), cards covered by row below
        if (r === 4) return true;
        return pyr.filter(function(p) { return !p.t && p.r === r + 1 && (p.c === c || p.c === c + 1); }).length === 0;
      } else if (age === 2) {
        // Age 2: accessible from top (row 0), cards covered by row above
        if (r === 0) return true;
        return pyr.filter(function(p) { return !p.t && p.r === r - 1 && (p.c === c || p.c === c - 1); }).length === 0;
      } else {
        // Age 3: hourglass, accessible from top corners
        if (r === 0) return true;
        return pyr.filter(function(p) { return !p.t && p.r === r - 1 && Math.abs(p.c - c) <= 1; }).length === 0;
      }
    }
    
    function applyMil(mil, sh, turn) { var dir = turn === 1 ? 1 : -1; return Math.max(-9, Math.min(9, mil + sh * dir)); }
    function countType(cards, t) { return cards.filter(function(c) { return c.type === t; }).length; }
    function getSciPairs(cards) { var sym = {}; cards.forEach(function(c) { if (c.sci) sym[c.sci] = (sym[c.sci] || 0) + 1; }); return Object.values(sym).filter(function(v) { return v >= 2; }).length; }
    function hasSciWin(cards, prog) { var sym = new Set(); cards.forEach(function(c) { if (c.sci) sym.add(c.sci); }); (prog || []).forEach(function(p) { if (p.sci) sym.add(p.sci); }); return sym.size >= 6; }
    function calcPts(player, opp, mil) {
      var pts = Math.floor(player.coins / 3);
      player.cards.forEach(function(c) { pts += c.pts || 0; if (c.ptsPer) Object.keys(c.ptsPer).forEach(function(t) { var pp = c.ptsPer[t]; if (t === 'wonder') pts += (player.wonders.filter(function(w) { return w.built; }).length + opp.wonders.filter(function(w) { return w.built; }).length) * pp; else if (t === 'coin3') pts += Math.floor((player.coins + opp.coins) / 3) * pp; else pts += (countType(player.cards, t) + countType(opp.cards, t)) * pp; }); });
      player.wonders.forEach(function(w) { if (w.built) pts += w.pts || 0; });
      (player.progress || []).forEach(function(p) { pts += p.pts || 0; });
      if (Math.abs(mil) >= 3) pts += 2; if (Math.abs(mil) >= 6) pts += 5;
      return pts;
    }

    var e = React.createElement;
    var useState = React.useState;
    var useEffect = React.useEffect;

    function App() {
      var gameState = useState(null);
      var game = gameState[0], setGame = gameState[1];
      var selState = useState(null);
      var sel = selState[0], setSel = selState[1];
      var msgState = useState('');
      var msg = msgState[0], setMsg = msgState[1];
      var aiState = useState(false);
      var aiThink = aiState[0], setAiThink = aiState[1];
      var vsAIState = useState(true);
      var vsAI = vsAIState[0], setVsAI = vsAIState[1];
      var endState = useState(false);
      var showEnd = endState[0], setShowEnd = endState[1];
      var selWonderState = useState(null);
      var selWonder = selWonderState[0], setSelWonder = selWonderState[1];

      function startGame() {
        var sw = shuffle(WONDERS).slice(0, 8);
        var sp = shuffle(PROGRESS).slice(0, 5);
        setGame({
          age: 1, pyr: buildAge1(AGE1_CARDS),
          p1: { coins: 7, cards: [], wonders: sw.slice(0, 4).map(function(w) { return Object.assign({}, w, { built: false }); }), progress: [] },
          p2: { coins: 7, cards: [], wonders: sw.slice(4, 8).map(function(w) { return Object.assign({}, w, { built: false }); }), progress: [] },
          mil: 0, turn: 1, progress: sp, discard: [], gameOver: false, winner: null
        });
        setSel(null); setSelWonder(null); setMsg(''); setShowEnd(false);
      }

      function checkGameEnd(g) {
        if (Math.abs(g.mil) >= 9) { g.winner = g.mil >= 9 ? 1 : 2; g.gameOver = true; g.vt = 'military'; return true; }
        var player = g.turn === 1 ? g.p1 : g.p2;
        if (hasSciWin(player.cards, player.progress)) { g.winner = g.turn; g.gameOver = true; g.vt = 'science'; return true; }
        return false;
      }

      function checkAgeEnd(g) {
        var rem = g.pyr.filter(function(p) { return !p.t; }).length;
        if (rem === 0 && !g.gameOver) {
          if (g.age < 3) { g.age++; g.pyr = g.age === 2 ? buildAge2(AGE2_CARDS) : buildAge3(AGE3_CARDS, GUILD_CARDS); setMsg('Age ' + g.age + ' begins!'); }
          else { g.p1.fp = calcPts(g.p1, g.p2, g.mil); g.p2.fp = calcPts(g.p2, g.p1, g.mil); g.winner = g.p1.fp > g.p2.fp ? 1 : g.p2.fp > g.p1.fp ? 2 : 0; g.gameOver = true; g.vt = 'points'; }
        }
      }

      function aiTurn(g) {
        setAiThink(true);
        setTimeout(function() {
          var ai = g.p2, hu = g.p1;
          var acc = g.pyr.filter(function(p) { return !p.t && isAcc(g.pyr, p, g.age); });
          if (acc.length === 0) { setAiThink(false); return; }
          var scored = acc.map(function(pos) {
            var card = pos.card, score = 0;
            var ci = calcCost(card.cost, ai, hu), canAff = ci.total <= ai.coins;
            var fc = hasChain(ai.cards, card.chainFrom);
            if (!canAff && !fc) return { pos: pos, action: 'discard', score: ai.coins < 5 ? 5 : 2 };
            if (card.type === 'red') score += 15 + (card.mil || 0) * 8;
            if (card.type === 'green') score += 12;
            if (card.type === 'blue') score += (card.pts || 0) * 2;
            if (card.type === 'brown' || card.type === 'gray') score += 8;
            if (card.type === 'yellow') { score += 10; if (card.prod) score += 15; }
            if (card.type === 'purple') score += 15;
            score -= fc ? 0 : ci.total * 0.5;
            return { pos: pos, action: 'build', score: score, cost: fc ? 0 : ci.total };
          });
          scored.sort(function(a, b) { return b.score - a.score; });
          var best = scored[0];
          if (best.action === 'build') {
            var card = best.pos.card; ai.cards.push(card); ai.coins -= best.cost || 0;
            if (card.coins) ai.coins += card.coins;
            if (card.mil) g.mil = applyMil(g.mil, card.mil, 2);
            best.pos.t = true; setMsg('AI built ' + card.name);
          } else { ai.coins += 2 + countType(ai.cards, 'yellow'); best.pos.t = true; setMsg('AI discarded'); }
          checkGameEnd(g);
          checkAgeEnd(g);
          g.turn = 1; setGame(Object.assign({}, g)); setAiThink(false);
        }, 800);
      }

      function handleClick(pos) {
        if (aiThink || game.gameOver || (vsAI && game.turn !== 1) || !isAcc(game.pyr, pos, game.age)) return;
        setSel(sel === pos ? null : pos);
        setSelWonder(null);
      }

      function handleWonderClick(w, idx, pNum) {
        if (aiThink || game.gameOver || (vsAI && game.turn !== 1) || w.built || pNum !== game.turn) return;
        if (!sel) { setMsg('Select a card first'); return; }
        setSelWonder(selWonder === idx ? null : idx);
      }

      function buildCard() {
        if (!sel || game.gameOver) return;
        var g = Object.assign({}, game);
        var player = g.turn === 1 ? g.p1 : g.p2, opp = g.turn === 1 ? g.p2 : g.p1;
        var card = sel.card, fc = hasChain(player.cards, card.chainFrom);
        var ci = calcCost(card.cost, player, opp), cost = fc ? 0 : ci.total;
        if (cost > player.coins) { setMsg("Can't afford!"); return; }
        player.coins -= cost; player.cards.push(card);
        if (card.coins) player.coins += card.coins;
        if (card.mil) g.mil = applyMil(g.mil, card.mil, g.turn);
        var pb = getSciPairs(player.cards.slice(0, -1)), pa = getSciPairs(player.cards);
        if (pa > pb && g.progress.length > 0) { var tk = g.progress.shift(); player.progress.push(tk); if (tk.coins) player.coins += tk.coins; setMsg('Got ' + tk.name + '!'); }
        sel.t = true;
        checkGameEnd(g);
        checkAgeEnd(g);
        g.turn = g.turn === 1 ? 2 : 1; setSel(null); setSelWonder(null); setGame(g);
        if (vsAI && g.turn === 2 && !g.gameOver) aiTurn(g);
      }

      function buildWonder() {
        if (!sel || selWonder === null || game.gameOver) return;
        var g = Object.assign({}, game);
        var player = g.turn === 1 ? g.p1 : g.p2, opp = g.turn === 1 ? g.p2 : g.p1;
        var wonder = player.wonders[selWonder];
        if (wonder.built) { setMsg('Already built!'); return; }
        var ci = calcCost(wonder.cost, player, opp);
        if (ci.total > player.coins) { setMsg("Can't afford wonder!"); return; }
        player.coins -= ci.total;
        wonder.built = true;
        if (wonder.coins) player.coins += wonder.coins;
        if (wonder.mil) g.mil = applyMil(g.mil, wonder.mil, g.turn);
        sel.t = true;
        setMsg('Built ' + wonder.name + '!');
        checkGameEnd(g);
        checkAgeEnd(g);
        var extraTurn = wonder.extraTurn;
        if (!extraTurn) g.turn = g.turn === 1 ? 2 : 1;
        setSel(null); setSelWonder(null); setGame(g);
        if (vsAI && g.turn === 2 && !g.gameOver && !extraTurn) aiTurn(g);
      }

      function discardCard() {
        if (!sel || game.gameOver) return;
        var g = Object.assign({}, game);
        var player = g.turn === 1 ? g.p1 : g.p2;
        player.coins += 2 + countType(player.cards, 'yellow'); g.discard.push(sel.card); sel.t = true;
        setMsg('Discarded for ' + (2 + countType(player.cards, 'yellow')) + 'üí∞');
        checkAgeEnd(g);
        g.turn = g.turn === 1 ? 2 : 1; setSel(null); setSelWonder(null); setGame(g);
        if (vsAI && g.turn === 2 && !g.gameOver) aiTurn(g);
      }

      useEffect(function() { if (game && game.gameOver) setShowEnd(true); }, [game && game.gameOver]);

      if (!game) {
        return e('div', { style: { height: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', color: '#f4e4c1' } },
          e('h1', { style: { fontSize: '2rem', marginBottom: 20 } }, '7 Wonders Duel'),
          e('button', { onClick: function() { setVsAI(true); startGame(); }, style: { padding: '15px 40px', fontSize: '1.2rem', background: 'linear-gradient(135deg,#8b6914,#c9a227)', border: '2px solid #f4e4c1', borderRadius: 8, color: '#2c1810', fontWeight: 'bold', cursor: 'pointer', marginBottom: 10 } }, 'Play vs AI'),
          e('button', { onClick: function() { setVsAI(false); startGame(); }, style: { padding: '12px 30px', fontSize: '1rem', background: '#6b4423', border: '2px solid #c9a227', borderRadius: 8, color: '#f4e4c1', cursor: 'pointer' } }, '2 Player')
        );
      }

      var cardW = 56, cardH = 76;
      var overlapX = game.age === 3 ? 28 : 36;
      var overlapY = game.age === 3 ? 22 : 28;
      var pyrW = 6 * overlapX + (cardW - overlapX) + 20;
      var pyrH = 5 * overlapY + (cardH - overlapY) + 10;

      // Wonder display component with full details
      function WonderCard(props) {
        var w = props.w, idx = props.idx, pNum = props.pNum;
        var isMyTurn = game.turn === pNum;
        var canSelect = isMyTurn && sel && !w.built && !game.gameOver && (vsAI ? pNum === 1 : true);
        var isSelected = selWonder === idx && pNum === game.turn;
        var player = pNum === 1 ? game.p1 : game.p2;
        var opp = pNum === 1 ? game.p2 : game.p1;
        var ci = calcCost(w.cost, player, opp);
        
        var costStr = Object.keys(w.cost).map(function(k) { return w.cost[k] + RES[k]; }).join('');
        var rewards = [];
        if (w.pts) rewards.push(w.pts + '‚òÖ');
        if (w.coins) rewards.push('+' + w.coins + 'üí∞');
        if (w.mil) rewards.push('‚öî'.repeat(w.mil));
        if (w.extraTurn) rewards.push('üîÑ');
        
        return e('div', {
          onClick: function() { handleWonderClick(w, idx, pNum); },
          style: {
            background: w.built ? 'linear-gradient(135deg, #5a4a2a, #3a2a1a)' : isSelected ? 'linear-gradient(135deg, #4a5a2a, #3a4a1a)' : 'linear-gradient(135deg, #3a2a1a, #2a1a0a)',
            border: isSelected ? '2px solid #90ee90' : canSelect ? '2px solid #c9a227' : '1px solid #555',
            borderRadius: 6,
            padding: 6,
            cursor: canSelect ? 'pointer' : 'default',
            opacity: w.built ? 0.6 : 1,
            minWidth: 90
          }
        },
          e('div', { style: { fontSize: '0.7rem', fontWeight: 'bold', color: w.built ? '#888' : '#c9a227', marginBottom: 2 } }, 
            w.built ? '‚úì ' + w.name : w.name
          ),
          !w.built ? e('div', { style: { fontSize: '0.6rem', color: '#aaa', marginBottom: 2 } }, 'Cost: ' + costStr) : null,
          !w.built ? e('div', { style: { fontSize: '0.6rem', color: ci.total <= player.coins ? '#8bc34a' : '#ff6b6b' } }, 'Buy: ' + ci.total + 'üí∞') : null,
          e('div', { style: { fontSize: '0.7rem', color: '#f4e4c1', marginTop: 2 } }, rewards.join(' ') || '-')
        );
      }

      function Panel(props) {
        var pNum = props.pNum;
        var p = pNum === 1 ? game.p1 : game.p2;
        var opp = pNum === 1 ? game.p2 : game.p1;
        var prod = getProd(p.cards, p.wonders);
        var isAct = game.turn === pNum && !game.gameOver;
        var prodStr = Object.keys(prod).filter(function(k) { return prod[k] > 0; }).map(function(k) { return prod[k] + RES[k]; }).join(' ') || '-';
        
        // Calculate running score
        var currentScore = calcPts(p, opp, pNum === 1 ? game.mil : -game.mil);
        
        return e('div', { style: { background: isAct ? 'rgba(201,162,39,0.15)' : 'rgba(0,0,0,0.2)', borderRadius: 6, padding: 6, border: isAct ? '2px solid #c9a227' : '1px solid #444', flex: 1 } },
          e('div', { style: { display: 'flex', justifyContent: 'space-between', fontSize: '0.9rem', fontWeight: 'bold', marginBottom: 2 } },
            e('span', null, vsAI ? (pNum === 1 ? 'You' : 'ü§ñ AI') : 'P' + pNum),
            e('span', null, p.coins + 'üí∞')
          ),
          e('div', { style: { fontSize: '1rem', fontWeight: 'bold', color: '#ffd700', marginBottom: 4, textAlign: 'center', background: 'rgba(0,0,0,0.3)', borderRadius: 4, padding: '2px 0' } }, currentScore + ' ‚òÖ'),
          e('div', { style: { fontSize: '0.7rem', marginBottom: 4 } }, 'Produces: ' + prodStr),
          e('div', { style: { fontSize: '0.7rem', fontWeight: 'bold', color: '#c9a227', marginBottom: 4 } }, 'Wonders:'),
          e('div', { style: { display: 'flex', flexDirection: 'column', gap: 4 } },
            p.wonders.map(function(w, i) {
              return e(WonderCard, { key: i, w: w, idx: i, pNum: pNum });
            })
          ),
          e('div', { style: { display: 'flex', gap: 2, flexWrap: 'wrap', marginTop: 6 } },
            p.cards.slice(-8).map(function(c, i) {
              return e('div', { key: i, style: { width: 14, height: 10, background: COLORS[c.type], borderRadius: 2 } });
            }),
            p.cards.length > 8 ? e('span', { style: { fontSize: '0.55rem' } }, '+' + (p.cards.length - 8)) : null
          )
        );
      }

      function Mil() {
        var mils = [-9, -6, -3, 0, 3, 6, 9];
        return e('div', { style: { display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '4px 0' } },
          e('span', { style: { fontSize: '0.7rem', marginRight: 4 } }, vsAI ? 'AI' : 'P2'),
          mils.map(function(m) {
            var bg = game.mil === m ? '#c9a227' : Math.abs(m) >= 9 ? '#c41e3a' : Math.abs(m) >= 6 ? '#ff6b6b' : Math.abs(m) >= 3 ? '#ffa500' : '#555';
            var txt = Math.abs(m) >= 9 ? '‚öî' : Math.abs(m) >= 6 ? '5' : Math.abs(m) >= 3 ? '2' : '‚Ä¢';
            return e('div', { key: m, style: { width: m === 0 ? 20 : 14, height: 12, background: bg, borderRadius: 2, margin: '0 1px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.5rem', border: game.mil === m ? '2px solid #fff' : 'none' } }, txt);
          }),
          e('span', { style: { fontSize: '0.7rem', marginLeft: 4 } }, vsAI ? 'You' : 'P1')
        );
      }

      function PCard(props) {
        var pos = props.pos;
        if (pos.t) return null;
        var r = pos.r, c = pos.c, card = pos.card;
        var acc = isAcc(game.pyr, pos, game.age);
        var canClick = acc && !aiThink && (vsAI ? game.turn === 1 : true) && !game.gameOver;
        var showFace = acc;
        
        var x, y;
        if (game.age === 1) {
          var rc = [2, 3, 4, 5, 6];
          x = (6 * overlapX - rc[r] * overlapX) / 2 + c * overlapX;
          y = r * overlapY;
        } else if (game.age === 2) {
          // Age 2: same visual structure as Age 1
          var rc = [2, 3, 4, 5, 6];
          x = (6 * overlapX - rc[r] * overlapX) / 2 + c * overlapX;
          y = r * overlapY;
        } else {
          x = c * overlapX;
          y = r * overlapY;
        }
        
        var cardContent;
        if (showFace) {
          var costStr = Object.keys(card.cost).length === 0 ? 'Free' : Object.keys(card.cost).map(function(k) { return card.cost[k] + (RES[k] || k); }).join('');
          var prodEl = card.prod ? e('div', { style: { background: 'rgba(0,0,0,0.3)', borderRadius: 2, padding: 1, fontSize: '0.65rem' } }, '+' + Object.keys(card.prod).map(function(k) { return card.prod[k] + RES[k]; }).join('')) : null;
          var milEl = card.mil ? e('div', { style: { fontSize: '0.8rem' } }, '‚öî'.repeat(card.mil)) : null;
          var sciEl = card.sci ? e('div', { style: { fontSize: '0.9rem' } }, SCI[card.sci]) : null;
          var ptsEl = card.pts > 0 ? e('div', { style: { fontSize: '0.75rem', fontWeight: 'bold' } }, card.pts + '‚òÖ') : null;
          var coinsEl = card.coins ? e('div', { style: { fontSize: '0.65rem' } }, '+' + card.coins + 'üí∞') : null;
          var tradeEl = card.fixedTrade ? e('div', { style: { fontSize: '0.5rem' } }, '1üí∞/' + (RES[card.fixedTrade] || 'üîÆüìú')) : null;
          var perEl = card.ptsPer ? e('div', { style: { fontSize: '0.5rem' } }, Object.keys(card.ptsPer).map(function(k) { return '‚òÖ/' + k; }).join(' ')) : null;
          cardContent = [
            e('div', { key: 'name', style: { fontSize: '0.55rem', fontWeight: 'bold', lineHeight: 1.1, textShadow: '1px 1px #000' } }, card.name.length > 9 ? card.name.substring(0, 8) + '‚Ä¶' : card.name),
            e('div', { key: 'mid', style: { flex: 1, fontSize: '0.6rem' } }, prodEl, milEl, sciEl, ptsEl, coinsEl, tradeEl, perEl),
            e('div', { key: 'cost', style: { fontSize: '0.5rem', background: 'rgba(0,0,0,0.4)', borderRadius: 2, padding: 1 } }, costStr)
          ];
        } else {
          cardContent = e('div', { style: { flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '1.2rem' } }, '?');
        }
        
        return e('div', {
          onClick: function() { if (canClick) handleClick(pos); },
          style: { position: 'absolute', left: x, top: y, width: cardW, height: cardH, background: showFace ? COLORS[card.type] : '#3a2a1a', border: sel === pos ? '3px solid gold' : acc ? '2px solid #c9a227' : '1px solid #555', borderRadius: 4, cursor: canClick ? 'pointer' : 'default', opacity: acc ? 1 : 0.6, display: 'flex', flexDirection: 'column', padding: 2, color: '#fff', zIndex: r * 10 + c, overflow: 'hidden', transform: sel === pos ? 'scale(1.08)' : 'scale(1)' }
        }, cardContent);
      }

      function ActPanel() {
        if (!sel) return null;
        var card = sel.card;
        var player = game.turn === 1 ? game.p1 : game.p2, opp = game.turn === 1 ? game.p2 : game.p1;
        var fc = hasChain(player.cards, card.chainFrom);
        var ci = calcCost(card.cost, player, opp);
        var canAff = fc || ci.total <= player.coins;
        var yc = countType(player.cards, 'yellow');
        
        var wonderCost = null;
        var canBuildWonder = false;
        if (selWonder !== null) {
          var wonder = player.wonders[selWonder];
          var wci = calcCost(wonder.cost, player, opp);
          wonderCost = wci;
          canBuildWonder = wci.total <= player.coins;
        }
        
        var prodEl = card.prod ? e('div', { style: { fontSize: '0.65rem', marginBottom: 3, color: '#8bc34a' } }, 'Prod: ' + Object.keys(card.prod).map(function(k) { return card.prod[k] + RES[k]; }).join(' ')) : null;
        
        return e('div', { style: { background: 'rgba(0,0,0,0.9)', borderRadius: 6, padding: 8, minWidth: 110, border: '1px solid #c9a227' } },
          e('div', { style: { fontWeight: 'bold', fontSize: '0.85rem', marginBottom: 3, color: COLORS[card.type] } }, card.name),
          e('div', { style: { fontSize: '0.7rem', marginBottom: 4 } },
            fc ? e('span', { style: { color: '#4caf50' } }, 'FREE (chain)') : e('span', { style: { color: canAff ? '#fff' : '#ff6b6b' } }, 'Cost: ' + ci.total + 'üí∞')
          ),
          prodEl,
          e('button', { onClick: buildCard, disabled: !canAff, style: { width: '100%', padding: '6px', fontSize: '0.75rem', background: canAff ? '#4caf50' : '#555', border: 'none', borderRadius: 4, color: '#fff', cursor: canAff ? 'pointer' : 'not-allowed', fontWeight: 'bold', marginBottom: 4 } }, 'Build Card'),
          selWonder !== null ? e('button', { onClick: buildWonder, disabled: !canBuildWonder, style: { width: '100%', padding: '6px', fontSize: '0.75rem', background: canBuildWonder ? '#6b8e23' : '#555', border: 'none', borderRadius: 4, color: '#fff', cursor: canBuildWonder ? 'pointer' : 'not-allowed', fontWeight: 'bold', marginBottom: 4 } }, 'Build Wonder (' + wonderCost.total + 'üí∞)') : null,
          e('button', { onClick: discardCard, style: { width: '100%', padding: '6px', fontSize: '0.75rem', background: '#8b4513', border: 'none', borderRadius: 4, color: '#fff', cursor: 'pointer' } }, 'Discard (+' + (2 + yc) + 'üí∞)')
        );
      }

      function EndScreen() {
        if (!showEnd) return null;
        var p1p = game.p1.fp || calcPts(game.p1, game.p2, game.mil);
        var p2p = game.p2.fp || calcPts(game.p2, game.p1, game.mil);
        var title = game.vt === 'military' ? '‚öî Military Victory!' : game.vt === 'science' ? 'üî¨ Science Victory!' : 'Game Over!';
        var winnerText = game.winner ? (vsAI ? (game.winner === 1 ? 'You Win!' : 'AI Wins!') : 'Player ' + game.winner + ' Wins!') : 'Tie!';
        return e('div', { style: { position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.92)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', zIndex: 1000, padding: 10 } },
          e('h2', { style: { fontSize: '1.4rem', marginBottom: 10, color: '#c9a227' } }, title),
          e('p', { style: { fontSize: '1.1rem', color: game.winner ? 'gold' : '#aaa', marginBottom: 15 } }, winnerText),
          e('div', { style: { display: 'flex', gap: 20, marginBottom: 20 } },
            e('div', { style: { background: 'rgba(201,162,39,0.2)', padding: 10, borderRadius: 8, minWidth: 120 } },
              e('h3', { style: { fontSize: '0.9rem', color: '#c9a227' } }, vsAI ? 'You' : 'P1'),
              e('div', { style: { fontSize: '1.4rem', fontWeight: 'bold', color: 'gold' } }, p1p + '‚òÖ'),
              e('div', { style: { fontSize: '0.7rem', color: '#aaa' } }, 'üí∞' + game.p1.coins + ' üèõ' + game.p1.wonders.filter(function(w) { return w.built; }).length + ' üÉè' + game.p1.cards.length)
            ),
            e('div', { style: { background: 'rgba(139,69,19,0.2)', padding: 10, borderRadius: 8, minWidth: 120 } },
              e('h3', { style: { fontSize: '0.9rem', color: '#8b4513' } }, vsAI ? 'AI' : 'P2'),
              e('div', { style: { fontSize: '1.4rem', fontWeight: 'bold', color: '#daa520' } }, p2p + '‚òÖ'),
              e('div', { style: { fontSize: '0.7rem', color: '#aaa' } }, 'üí∞' + game.p2.coins + ' üèõ' + game.p2.wonders.filter(function(w) { return w.built; }).length + ' üÉè' + game.p2.cards.length)
            )
          ),
          e('div', { style: { display: 'flex', gap: 10 } },
            e('button', { onClick: startGame, style: { padding: '10px 25px', fontSize: '0.95rem', background: 'linear-gradient(135deg,#8b6914,#c9a227)', border: '2px solid #f4e4c1', borderRadius: 6, color: '#2c1810', fontWeight: 'bold', cursor: 'pointer' } }, 'Play Again'),
            e('button', { onClick: function() { setShowEnd(false); }, style: { padding: '10px 18px', fontSize: '0.85rem', background: '#555', border: '2px solid #888', borderRadius: 6, color: '#fff', cursor: 'pointer' } }, 'View Board')
          )
        );
      }

      var rem = game.pyr.filter(function(p) { return !p.t; }).length;

      return e('div', { style: { height: '100%', display: 'flex', flexDirection: 'column', color: '#f4e4c1', overflow: 'hidden', position: 'relative' } },
        // Header
        e('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '3px 8px', background: 'rgba(0,0,0,0.3)' } },
          e('span', { style: { fontWeight: 'bold', fontSize: '0.85rem' } }, aiThink ? 'ü§ñ Thinking...' : 'Age ' + game.age + ' ‚Ä¢ ' + (vsAI ? (game.turn === 1 ? 'Your turn' : 'AI') : 'P' + game.turn)),
          e('div', { style: { display: 'flex', gap: 8, alignItems: 'center', fontSize: '0.75rem' } },
            e('span', null, 'üÉè' + rem),
            e('button', { onClick: function() { setGame(null); }, style: { padding: '2px 6px', background: '#8b4513', border: '1px solid #c9a227', borderRadius: 4, color: '#fff', cursor: 'pointer', fontSize: '0.7rem' } }, 'Menu')
          )
        ),
        // Message
        msg ? e('div', { style: { textAlign: 'center', padding: 2, background: 'rgba(201,162,39,0.3)', fontSize: '0.75rem' } }, msg) : null,
        // Military track
        e(Mil),
        // Main content: panels on sides, pyramid in middle
        e('div', { style: { flex: 1, display: 'flex', overflow: 'hidden', padding: '0 4px' } },
          // Left panel (Player 1)
          e('div', { style: { width: '22%', minWidth: 100, overflow: 'auto' } }, e(Panel, { pNum: 1 })),
          // Center: pyramid and action panel
          e('div', { style: { flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', overflow: 'auto', padding: '4px' } },
            e('div', { style: { position: 'relative', width: pyrW, height: pyrH, marginBottom: 8 } },
              game.pyr.map(function(pos, i) { return e(PCard, { key: i, pos: pos }); })
            ),
            e(ActPanel)
          ),
          // Right panel (Player 2 / AI)
          e('div', { style: { width: '22%', minWidth: 100, overflow: 'auto' } }, e(Panel, { pNum: 2 }))
        ),
        e(EndScreen)
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(e(App));
    </script>
</body>
</html>
